var cadastro=(function(b){"use strict";var d=typeof document<"u"?document.currentScript:null;const p=typeof window<"u"&&window.location&&window.location.protocol==="file:";let v=()=>{},h=()=>{};async function E(e){if(!p)try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.text(),r=new DOMParser().parseFromString(a,"text/html").querySelector("main"),s=document.querySelector("main");if(r&&s){typeof h=="function"&&h();const i=s.animate([{opacity:1,transform:"translateY(0) scale(1)",filter:"blur(0px)"},{opacity:0,transform:"translateY(-30px) scale(0.95)",filter:"blur(5px)"}],{duration:350,easing:"cubic-bezier(0.4, 0, 0.6, 1)",fill:"forwards"});try{await i.finished}catch{}s.innerHTML=r.innerHTML,s.hasAttribute("aria-live")||s.setAttribute("aria-live","polite");const l=s.animate([{opacity:0,transform:"translateY(30px) scale(0.95)",filter:"blur(5px)"},{opacity:1,transform:"translateY(0) scale(1)",filter:"blur(0px)"}],{duration:500,easing:"cubic-bezier(0.16, 1, 0.3, 1)",fill:"both"});Array.from(s.children).forEach((g,c)=>{g.animate([{opacity:0,transform:"translateY(30px)"},{opacity:1,transform:"translateY(0)"}],{duration:600,delay:75*c,easing:"cubic-bezier(0.16, 1, 0.3, 1)",fill:"backwards"})}),h=v(s);const u=s.querySelector("h2");u&&(u.setAttribute("tabindex","-1"),u.focus(),u.addEventListener("blur",()=>{u.removeAttribute("tabindex")},{once:!0})),window.scrollTo(0,0)}}catch(t){console.error("Erro ao carregar página:",t)}}function M(e){const t=e.target.closest("header nav a");if(!t||p)return;e.preventDefault();const a=t.getAttribute("href");E(a),p||history.pushState(null,"",a)}function P(){p||E(window.location.pathname.split("/").pop()||"index.html")}function U(e){v=e,document.addEventListener("click",M),window.addEventListener("popstate",P),h=v(document.body)}const q=[{id:"educacao-todos",title:"Educação para Todos",image:new URL(""+new URL("../images/educacao-todos.jpeg",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,d&&d.tagName.toUpperCase()==="SCRIPT"&&d.src||new URL("assets/cadastro.js",document.baseURI).href).href,alt:"Crianças em sala de aula participando de atividades educacionais",description:"O projeto Educação para Todos oferece reforço escolar gratuito para crianças e adolescentes de 6 a 14 anos em situação de vulnerabilidade social. Através de metodologias inovadoras e professores voluntários qualificados, buscamos melhorar o desempenho escolar e reduzir a evasão. Atualmente atendemos 200 alunos em nossa sede e em escolas parceiras."},{id:"capacitacao-profissional",title:"Capacitação Profissional",image:new URL(""+new URL("../images/capacitacao-profissional.jpeg",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,d&&d.tagName.toUpperCase()==="SCRIPT"&&d.src||new URL("assets/cadastro.js",document.baseURI).href).href,alt:"Jovens participando de workshop de capacitação profissional",description:"Nosso programa de Capacitação Profissional prepara jovens e adultos para o mercado de trabalho através de cursos gratuitos em diversas áreas como informática, administração, culinária e artesanato. Além das aulas técnicas, oferecemos orientação para elaboração de currículos e preparação para entrevistas. Já formamos mais de 500 pessoas, com taxa de empregabilidade de 70%."},{id:"saude-comunidade",title:"Saúde em Comunidade",image:new URL(""+new URL("../images/saude-comunidade.jpeg",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,d&&d.tagName.toUpperCase()==="SCRIPT"&&d.src||new URL("assets/cadastro.js",document.baseURI).href).href,alt:"Profissionais de saúde atendendo comunidade em ação social",description:"O projeto Saúde em Comunidade promove ações de prevenção e promoção da saúde em bairros carentes. Realizamos campanhas de vacinação, orientação nutricional, aferição de pressão arterial e glicemia, além de palestras educativas sobre higiene e cuidados básicos de saúde. Contamos com parceria de profissionais voluntários da área da saúde e já atendemos mais de 3.000 pessoas."},{id:"alimentacao-solidaria",title:"Alimentação Solidária",image:new URL(""+new URL("../images/alimentacao-solidaria.jpeg",document.currentScript&&document.currentScript.tagName.toUpperCase()==="SCRIPT"&&document.currentScript.src||document.baseURI).href,d&&d.tagName.toUpperCase()==="SCRIPT"&&d.src||new URL("assets/cadastro.js",document.baseURI).href).href,alt:"Distribuição de alimentos para famílias em situação de vulnerabilidade",description:"O programa Alimentação Solidária distribui cestas básicas mensalmente para 150 famílias em situação de insegurança alimentar. Além da distribuição de alimentos, oferecemos oficinas de educação nutricional e aproveitamento integral dos alimentos, ensinando receitas saudáveis e econômicas. O projeto funciona através de doações de empresas parceiras e da comunidade."}];function j(e){return`
        <article class="project-card">
            <h3>${e.title}</h3>
            <img src="${e.image}" alt="${e.alt}" loading="lazy" width="400" height="200">
            <div class="project-content">
                <p>${e.description}</p>
            </div>
        </article>
    `}function D(e){const t=document.querySelector(e);if(!t)return;const a=q.map(o=>j(o)).join("");t.innerHTML=a}function N(e){const t=document.querySelector(e);t&&t.classList.add("active")}function $(e){const t=document.querySelector(e);t&&t.classList.remove("active")}function x(e,t){const a=document.querySelector(e),o=document.querySelector(t);if(!a)return()=>{};const n=new AbortController,{signal:r}=n;let s=null;const i=()=>{$(e),s&&s.focus()},l=()=>{const c=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])'];return Array.from(a.querySelectorAll(c.join(", ")))},k=c=>{if(!a.classList.contains("active"))return;const m=l();if(m.length===0)return;const f=m[0],A=m[m.length-1];c.key==="Tab"&&(c.shiftKey?document.activeElement===f&&(c.preventDefault(),A.focus()):document.activeElement===A&&(c.preventDefault(),f.focus()))},u=new MutationObserver(c=>{c.forEach(m=>{if(m.attributeName==="class"&&a.classList.contains("active")){s=document.activeElement;const f=l();f.length>0&&f[0].focus()}})});u.observe(a,{attributes:!0}),o&&o.addEventListener("click",i,{signal:r}),a.addEventListener("click",c=>{c.target===a&&i()},{signal:r});const g=c=>{c.key==="Escape"&&a.classList.contains("active")&&i()};return document.addEventListener("keydown",g,{signal:r}),document.addEventListener("keydown",k,{signal:r}),()=>{n.abort(),u.disconnect()}}function F(e=document){e.querySelectorAll('img[loading="lazy"]').forEach(a=>{if(a.parentElement&&a.parentElement.classList.contains("img-wrapper")){a.complete&&(a.classList.add("loaded"),a.parentElement.classList.add("loaded"));return}const o=document.createElement("div");o.className="img-wrapper",a.parentNode.insertBefore(o,a),o.appendChild(a),a.addEventListener("load",()=>{a.classList.add("loaded"),o.classList.add("loaded")}),a.complete&&(a.classList.add("loaded"),o.classList.add("loaded"))})}const O=`
<div id="success-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal">
        <h2 id="modal-title">✅ Cadastro Realizado com Sucesso!</h2>
        <p>Obrigado por se cadastrar como voluntário da ONG Vida Nova. Em breve entraremos em contato com você.</p>
        <button id="close-modal-btn" type="button">Fechar</button>
    </div>
</div>`;function z(e){return e=e.replace(/\D/g,""),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d)/,"$1.$2"),e=e.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),e}function H(e){return e=e.replace(/\D/g,""),e=e.replace(/(\d{5})(\d)/,"$1-$2"),e}function V(e){return e=e.replace(/\D/g,""),e=e.replace(/(\d{2})(\d)/,"($1) $2"),e=e.replace(/(\d{5})(\d)/,"$1-$2"),e}function Y(e){const t=(e||"").replace(/\D/g,"");if(t.length!==11||/^(\d)\1{10}$/.test(t))return!1;const a=r=>{let s=0;for(let l=0;l<r.length;l++)s+=parseInt(r[l],10)*(r.length+1-l);const i=s%11;return i<2?0:11-i};return!(a(t.substring(0,9))!==parseInt(t[9],10)||a(t.substring(0,10))!==parseInt(t[10],10))}function _(e){if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return!1;const[t,a,o]=e.split("-").map(Number),n=new Date(t,a-1,o);if(Number.isNaN(n.getTime()))return!1;const r=new Date;let s=r.getFullYear()-n.getFullYear();const i=r.getMonth()-n.getMonth();return(i<0||i===0&&r.getDate()<n.getDate())&&s--,s>=18}function B(e,t){const a=e.querySelector("#cpf"),o=e.querySelector("#cep"),n=e.querySelector("#telefone");a&&a.addEventListener("input",r=>{r.target.value=z(r.target.value)},{signal:t}),o&&o.addEventListener("input",r=>{r.target.value=H(r.target.value)},{signal:t}),n&&n.addEventListener("input",r=>{r.target.value=V(r.target.value)},{signal:t})}function K(){document.querySelectorAll(".alert").forEach(t=>t.remove())}function w(e,t){const a=document.createElement("div");a.className="alert alert-error",a.setAttribute("role","alert"),a.setAttribute("aria-live","assertive"),a.textContent=t,e.parentElement.insertBefore(a,e.nextSibling)}function G(e){K();let t=!0;const a=e.querySelector("#cpf");a&&a.value.trim()&&(Y(a.value)||(w(a,"CPF inválido."),t=!1));const o=e.querySelector("#nascimento");return o&&o.value.trim()&&(_(o.value.trim())||(w(o,"É necessário ter 18 anos ou mais."),t=!1)),t}function J(e){e.preventDefault();const t=e.target,a=t.checkValidity(),o=a?G(t):!1;if(!a||!o){a||t.reportValidity();const n=document.querySelector(".alert-error")||t.querySelector(":invalid");n&&n.scrollIntoView({behavior:"smooth",block:"center"});return}N("#success-modal"),setTimeout(()=>{t.reset()},2e3)}function Q(e){const t=document.querySelector(e);if(!t)return()=>{};const a=document.createElement("div");a.innerHTML=O;const o=a.firstElementChild;let n=()=>{};document.getElementById("success-modal")||(document.body.appendChild(o),n=x("#success-modal","#close-modal-btn"));const r=new AbortController,{signal:s}=r;return B(t,s),t.addEventListener("submit",J,{signal:s}),()=>{r.abort(),n();const i=document.getElementById("success-modal");i&&document.body.removeChild(i)}}const y="ong-theme-preference",L="dark-mode",C="light-mode";function T(){const e=localStorage.getItem(y);return e==="dark"||e==="light"?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function S(e){const t=document.body;e==="dark"?(t.classList.remove(C),t.classList.add(L)):(t.classList.remove(L),t.classList.add(C)),Z(e)}function W(e){localStorage.setItem(y,e)}function X(){const t=T()==="dark"?"light":"dark";S(t),W(t)}function Z(e){const t=document.querySelector("#theme-toggle");if(t){const a=e==="dark"?"Alternar para modo claro":"Alternar para modo escuro";t.setAttribute("aria-label",a),t.textContent=e==="dark"?"Modo Claro":"Modo Escuro"}}function ee(){const e=T();S(e);const t=document.querySelector("#theme-toggle");if(t&&t.addEventListener("click",X),window.matchMedia){const a=window.matchMedia("(prefers-color-scheme: dark)"),o=n=>{if(!localStorage.getItem(y)){const s=n.matches?"dark":"light";S(s)}};a.addEventListener&&a.addEventListener("change",o)}}function I(e){const t=[],a=e.querySelector("#projects-container"),o=e.querySelector("#cadastro-form");if(a&&D("#projects-container"),o){const n=Q("#cadastro-form");t.push(n)}return F(e),()=>{t.forEach(n=>n())}}function R(){ee(),U(I)}return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",R):R(),b.initializeDynamicContent=I,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),b})({});
